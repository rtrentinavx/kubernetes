# Example terraform.tfvars for GKE cluster with additional node pools

project_id = "your-project-id"
region     = "us-east1"
zone       = "us-east1-b"

# Network configuration
subnet_cidr            = "10.10.0.0/20"
pods_secondary_cidr    = "10.20.0.0/16"
services_secondary_cidr = "10.30.0.0/16"
bastion_subnet_cidr    = "10.40.0.0/28"

# Cluster configuration
private_cluster         = true
enable_private_endpoint = false
master_ipv4_cidr_block  = "172.16.0.0/28"
gke_release_channel     = "REGULAR"
deletion_protection     = false

# Master authorized networks
master_authorized_networks = [
  {
    cidr_block   = "0.0.0.0/0"
    display_name = "All"
  }
]

# Default node pool
node_machine_type    = "e2-standard-4"
node_count           = 1
node_pool_min_count  = 1
node_pool_max_count  = 3

# Additional node pools
additional_node_pools = {
  "np-spot" = {
    node_count     = 0
    min_node_count = 0
    max_node_count = 5
    machine_type   = "e2-standard-4"
    disk_size_gb   = 100
    disk_type      = "pd-standard"
    spot           = true
    preemptible    = false
    labels = {
      workload = "batch"
      cost     = "optimized"
    }
    taints = []
  }
  "np-highmem" = {
    node_count     = 1
    min_node_count = 1
    max_node_count = 3
    machine_type   = "n2-highmem-4"
    disk_size_gb   = 200
    disk_type      = "pd-ssd"
    spot           = false
    preemptible    = false
    labels = {
      workload = "memory-intensive"
    }
    taints = [
      {
        key    = "workload"
        value  = "memory-intensive"
        effect = "NoSchedule"
      }
    ]
  }
}

# Bastion configuration
enable_external_ip = true
bastion_machine_type = "e2-micro"
ssh_allowed_cidrs = ["0.0.0.0/0"]
ssh_authorized_keys = [
  "user:ssh-rsa AAAAB3NzaC1yc2E... user@example.com"
]

# Backup configuration
enable_backup          = false
backup_retention_days  = 7
backup_namespace       = "default"
backup_name            = "default"
